### 1.宝塔篇

```javascript
宝塔前端网站站点配置
外网面板地址: http://39.108.185.160:8888/beeb0fa7
内网面板地址: http://172.17.14.63:8888/beeb0fa7
username: v8wlgtpd
password: 3ce2816b
http://39.108.185.160:8888/site


listen 80;
server_name 39.108.185.160;
index index.php index.html index.htm default.php default.htm default.html;

root /www/wwwroot/39.108.185.160/dist;

解决404
location / {
            try_files $uri $uri/ @router;#需要指向下面的@router否则会出现vue的路由在nginx中刷新出现404
            index  index.html index.htm;
        }
        #对应上面的@router，主要原因是路由的路径资源并不是一个真实的路径，所以无法找到具体的文件
        #因此需要rewrite到index.html中，然后交给路由在处理请求资源
location @router {
            rewrite ^.*$ /index.html last;
 }



location /www/wwwroot/39.108.185.160/dist{
         if (!-e $request_filename) {
            rewrite ^/(.*) /www/wwwroot/39.108.185.160/dist/index.html last;
            break;
        }
      }
```

### 2.PM2篇

```javascript
1
npm i -g pm2
启动

pm2 start app.js --watch   
pm2 start app.js -i max  # 根据有效CPU数目启动最大进程数目
pm2 start app.js -n appname -i max -e err.log -o out.log # 以 appname 启动 app.js，错误当前目录 err.log 为 error log，out.log 为输出 log
pm2 start bb.sh  --interpreter bash # 用 bash 执行脚本
pm2 start test.py--interpreter python3 # 用 python 环境执行脚本
启动类似 node xxx.js 的项目

1
pm2 start --name xxxsname xxx.js  # 将运行的实例命名为 xxxsname
启动类似 npm start 的项目

1
pm2 start --name appname npm -- start # 设置应用名为 appname
启动类似 npm run serve 的项目

1
pm2 start --name servename npm -- run serve # 设置应用名为 servename
–name xxx 或者 -n xxx 表示将应用命名为 xxx

以配置文件的形式启动

1
pm2 start pm2config.json





https://pm2.keymetrics.io/

pm2 start build/dev-server.js
$ pm2 logs 显示所有进程日志
$ pm2 stop all 停止所有进程
$ pm2 restart all 重启所有进程
$ pm2 reload all 0秒停机重载进程 (用于 NETWORKED 进程)
$ pm2 stop 0 停止指定的进程
$ pm2 restart 0 重启指定的进程
$ pm2 startup 产生 init 脚本 保持进程活着
$ pm2 web 运行健壮的 computer API endpoint
$ pm2 delete 0 杀死指定的进程
$ pm2 delete all 杀死全部进程
$ pm2 restart app_name
$ pm2 reload app_name
$ pm2 stop app_name
$ pm2 delete app_name
```

### 3.额外篇

```javascript
github什么的199.232.4.133 raw.githubusercontent.com
```

